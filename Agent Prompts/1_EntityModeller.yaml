classextraction_task:
  description: >
    ### **Ontology Structuring Rules**
    1. **Cluster tables into entities** based on relationships and semantic meaning. Put the most relevant table as the first table in the clustered table list. Example clusters:
       - **Contract** → ["Contract", "Contractor", "ContractArea", "ContractBoq"]
       - **Inspection** → ["InspectionBatch", "InspectionRoute", "InspectionType"]
       - **Asset** → ["Feature", "FeatureType", "AssetGroup"]

    2. **Ensure all tables are included in clusters except for system-level concepts (e.g., **Comment**, **Datakey**). Don't include the same table into different entities.

    3. **Ontology Categories (BFO-based)**:
       - **Material entity** → Physical entities (e.g., bridge) that spatially extended in 3D dimensions, including **objects**, **object aggregates**, and **object part**.
       - **Immaterial entity** → Spatial entities contains no material entities as parts, including **sites**, **spatial regions**, and **continuant fiat boundary** (point, line, surface).
       - **Dependent continuant** → Including **specifically dependent continuants** like **qualities** of objects, **roles** of a person, or **dispositions** of objects, and **generically dependent continuants** whose content or pattern can have multiple copies, such as maintenance plan sepcifications, cost tables, which can be concretized into specific dependent continuants, such as work plans. 
       - **Process** → an occurrent entity that exists in tDime by occuring or happening, has temporal parts, and always depends on (as least one) material entity. Typical process includes events, accidents, activity, and tasks like inspections and maintenance.  
       - **Temporal region** → an occurrent entity that is part of time (e.g., this moment, time interval, year 2025).  

    4. Only conduct ontology modelling for business-level entities and domain-specific tables, such as **Contract**, **Inspection**, etc. Ignore system-level entities and tables, such as **DataKey**, **CommentLibrary**.
    5. Only cluster tables if they are connected through **Foreign Key Relations**. Use the **ConnectedTables graph** to determine whether tables are linked directly or indirectly. If a table is not connected with other tables, they must not be in the same cluster.
    6. If a table ends with "Type", name the entity without mention of "Type". For example, if table name is "InspectionType", then entity name is **Inspection**.  
    7. **Don't** generate two entities that include overlapping tables.  
    8. Ignore general attribute entities (e.g., **Attribute**, **Parameter**).
    9. Model location (e.g. **Route**) and spatial entities (e.g., **Site**) as **Immaterial entity**.
    ### **Task**
    1. **Start by identifying the core themes in the schema. For high-priority concepts (e.g., Asset, Inspection, Incident), suggest finer-grained modeling.
    2. **Cluster tables into ontology entities** based on domain meaning and relationships.
    3. **For each entity, classify it into one of the BFO categories.**
    4. **Return output in strict JSON format** as shown below.
    
    ### **Tables & Relations**
    **Tables:**
    {tables_info}

    **Foreign Key Relations:** (**ConnectedTables graph**)
    {foreign_key_relations}
  expected_output: >
    ### **Expected JSON Output Format**
    {{
    "Summary": "this database describes information of routine and reactive maintenance of road assets. Thus, high-priority concepts about **assets**, **asset conditions**, **maintenances**, **tasks**, **cost**, and **staff** should have fine-grained clusters."
    "Entities":
    [
      ["Contract", "Dependent continuant", ["Contract", "Contractor", "ContractArea", "ContractBoq"]],
      ["Inspection", "Process", ["InspectionBatch", "InspectionRoute", "InspectionType"]],
      ["Asset", "Material entity", ["Feature", "FeatureType", "AssetGroup"]],
      ["Finance", "Temporal region", ["FinancePeriod", "FinanceYear"]],
      ["WorkOrder", "Dependent continuant", ["OrderHeader", "OrderItem", "OrderJob"]],
    ]
    }}
    **Return ONLY valid JSON output. Do NOT include any explanations.**
    Now, please start to create {expectentitynumber} entities:
  agent: EntityModeller

